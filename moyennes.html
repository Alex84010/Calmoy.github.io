<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Entrer mes moyennes</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<ul>
  <li><a href="index.html">Accueil</a></li>
  <li><a class="active" href="moyennes.html">Mes Moyennes</a></li>
  <li><a href="resultat.html">Résultat</a></li>
  <li><a href="#">À propos</a></li>
</ul>

<div class="container">
  <h2>Entre tes moyennes :</h2>

  <div>
    <label><input type="checkbox" id="maths"> Maths :</label>
    <input type="number" id="note-maths" min="0" max="20" step="0.1" placeholder="Note">
  </div>

  <div>
    <label><input type="checkbox" id="fr"> Français :</label>
    <input type="number" id="note-fr" min="0" max="20" step="0.1" placeholder="Note">
  </div>

  <div>
    <label><input type="checkbox" id="es"> Espagnol :</label>
    <input type="number" id="note-es" min="0" max="20" step="0.1" placeholder="Note">
  </div>

  <div>
    <label><input type="checkbox" id="all"> Allemand :</label>
    <input type="number" id="note-all" min="0" max="20" step="0.1" placeholder="Note">
  </div>

  <button onclick="sauverMoyennes()">Valider mes moyennes</button>

  <p id="msg"></p>
</div>

<script>
function sauverMoyennes() {
  const matieres = ["maths", "fr", "es", "all"];
  let data = {};

  matieres.forEach(id => {
    const checked = document.getElementById(id).checked;
    const note = parseFloat(document.getElementById("note-" + id).value);
    if (checked && !isNaN(note)) data[id] = note;
  });

  if (Object.keys(data).length === 0) {
    document.getElementById("msg").textContent = "⚠️ Coche et entre au moins une note.";
    return;
  }

  localStorage.setItem("moyennes", JSON.stringify(data));
  document.getElementById("msg").textContent = "✅ Moyennes enregistrées ! Va voir ta moyenne dans 'Résultat'.";
}
</script>

</body>
</html>
